<!DOCTYPE html>
<html>

<head>

<meta name="viewport" content="width=device-width,initial-scale=1">

<h1><label id = "header1"></label></h1>

<script type="text/javascript" src = "cities_data.js"></script>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.10.1/jquery.min.js"></script>
<script>

	document.getElementById('header1').innerHTML = "Welcome " + localStorage.getItem("username");
	function func() {
		var i = 0;
  		if (i == 0) {
    		i = 1;
    		var bar = document.getElementById("progress_inner");
    		var width = 1;
    		var id = setInterval(frame, 10);
    		function frame() {
      			if (width > 300) {
        			clearInterval(id);
        			i = 0;
        		}
        		else 
        		{
        			width++;
        			bar.style.width = width + "%";
      			}
    		}
  		}
	}
</script> 

<style>
        table 
        {
            width: 80%;
            font: 17px Calibri;
        }
        table, th, td 
        {
            border: solid 2px #DDD;
            border-collapse: collapse;
            padding: 2px 3px;
            text-align: center;
        }
        #progress_outer { 
  			width: 20%;
  			height: 30px;
  			background-color: white; 
		} 
  
		#progress_inner { 
  			width: 0%; 
  			height: 30px; 
  			background-color: green; 
        } 
        
</style>
</head>

<body onload = "func()">

	<div id = "progress_outer">
		<div id = "progress_inner">
		</div>
	</div>
	
	<br>
	<br>

	<div id = "table_content"></div>

</body>

<script>

	$(document).ready(function () {

		setTimeout(function(){table_call();},3000);
		
	});
	function table_call()
	{
		var col = [];
		for(var key in arrItems[0])
			col.push(key);
		var table = document.createElement("table");
		var tr = table.insertRow(-1);

  		for (var i = 0; i < arrItems.length; i++) {

                tr = table.insertRow(-1);
				for (var j = 0; j < col.length; j++) {

                    var tabCell = tr.insertCell(-1);
                    if(i == 0)
                    	tabCell.innerHTML = arrItems[i][col[j]].bold();
                	else
                		tabCell.innerHTML = arrItems[i][col[j]];

                }
            }

		var divContainer = document.getElementById("table_content");
		document.getElementById("progress_outer").style.visibility = "hidden";
		divContainer.appendChild(table);

    }
</script>
 
</html>



